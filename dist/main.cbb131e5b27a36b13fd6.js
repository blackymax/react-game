!function(e){function t(t){for(var l,c,s=t[0],o=t[1],u=t[2],m=0,d=[];m<s.length;m++)c=s[m],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&d.push(n[c][0]),n[c]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l]);for(i&&i(t);d.length;)d.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],l=!0,s=1;s<a.length;s++){var o=a[s];0!==n[o]&&(l=!1)}l&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var l={},n={0:0},r=[];function c(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=l,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)c.d(a,l,function(t){return e[t]}.bind(null,l));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var i=o;r.push([3,1]),a()}({3:function(e,t,a){e.exports=a(8)},8:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(2);const c=()=>n.a.createElement("footer",{className:"app-footer"},n.a.createElement("div",{className:"created-block"},n.a.createElement("h3",null,"Created by  "),n.a.createElement("a",{href:"https://github.com/blackymax"}," blackymax "),n.a.createElement("h3",null," , 2021")),n.a.createElement("a",{href:"https://rs.school/js/"},n.a.createElement("img",{src:"./assets/icons/rs_school_js.svg",alt:"rs-school"}))),s=({scoreTitle:e})=>n.a.createElement("h3",null,"Score: ",e),o=()=>n.a.createElement("div",{className:"app-about-game"},n.a.createElement("div",{className:"app-about-game-modal"},n.a.createElement("h3",null,"Controls"),n.a.createElement("h5",null,"5 HOTKEYS"),n.a.createElement("div",{className:"app-hotkeys-info"},n.a.createElement("div",{className:"left"},n.a.createElement("div",null,"←"),n.a.createElement("p",null,"move left")),n.a.createElement("div",{className:"top"},n.a.createElement("div",null,"↑"),n.a.createElement("p",null,"move top")),n.a.createElement("div",{className:"right"},n.a.createElement("div",null,"→"),n.a.createElement("p",null,"move right")),n.a.createElement("div",{className:"down"},n.a.createElement("div",null,"↓"),n.a.createElement("p",null,"move down")),n.a.createElement("div",{className:"esc"},n.a.createElement("div",null,"Esc"),n.a.createElement("p",null,"pause"))))),u=[[8,7],[8,8]],i=[8,3],m=window.innerWidth>1e3?40:28,d=window.innerWidth>1e3?28:20,h={38:[0,-1],40:[0,1],37:[-1,0],39:[1,0]},p=e=>{const t=Object(l.useRef)(),a=Object(l.useRef)();return n.a.createElement("div",{className:"settings-window"},n.a.createElement("h3",null,"Settings"),n.a.createElement("div",{className:"parameters"},n.a.createElement("button",{className:e.stateMus?"music active":"music",onClick:e.stateMus?e.musicPause:e.musicPlay},"Music"),n.a.createElement("button",{className:e.stateSnd?"sound active":"sound",onClick:e.soundHandler},"Sounds"),n.a.createElement("label",{htmlFor:"music"},"Music volume"),n.a.createElement("input",{type:"range",min:"0",max:"1",step:"0.1",id:"music",ref:t,onChange:t=>{e.handleMusicVolume(t.target.value),e.audio.volume=t.target.value},value:e.musicVolState}),n.a.createElement("label",{htmlFor:"music"},"Sound volume"),n.a.createElement("input",{type:"range",min:"0",max:"1",id:"sound",step:"0.1",ref:a,onChange:t=>{e.handleSoundVolume(t.target.value),e.sound.volume=t.target.value},value:e.soundVolState})),n.a.createElement("div",{className:"toggle-theme"},n.a.createElement("h3",null,"Themes"),n.a.createElement("button",{className:"dark"===e.themeState?"dark-theme active":"dark-theme",onClick:e.themeDarkHandler},"dark"),n.a.createElement("button",{className:"light"===e.themeState?"light-theme active":"light-theme",onClick:e.themeLightHandler},"light")),n.a.createElement("div",{className:"field-settings"},n.a.createElement("h3",null,"field size"),n.a.createElement("button",{className:"small"===e.sizeState?"field-size-small active":"field-size-small",onClick:()=>{e.handleSizeMode("small"),e.handleScale(m)}},"small"),n.a.createElement("button",{className:"large"===e.sizeState?"field-large-small active":"field-size-large",onClick:()=>{e.handleSizeMode("large"),e.handleScale(d)}},"large"),n.a.createElement("h3",null,"speed"),n.a.createElement("button",{className:"slow"===e.speedState?"slow-speed active":"slow-speed",onClick:()=>{e.handleSpeedState("slow"),e.handleSpeed(100)}},"slow"),n.a.createElement("button",{className:"fast"===e.speedState?"fast-speed active":"fast-speed",onClick:()=>{e.handleSpeedState("fast"),e.handleSpeed(50)}},"fast")))},b=e=>n.a.createElement("div",{className:"best-scores"},n.a.createElement("h3",null,"Best scores"),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Score"),n.a.createElement("th",null,"Pts"))),n.a.createElement("tbody",null,(()=>{const t=Object.values(e.data).sort(((e,t)=>+t[1]-+e[1]));return t.length=10,t.map(((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("th",null,t+1,"."),n.a.createElement("th",null,e[0]),n.a.createElement("th",null,e[1]," pts"))))})()))),E=e=>{const t=Object(l.useRef)(void 0);return n.a.createElement("div",{className:"game-over"},n.a.createElement("h3",null,"Game over!"),n.a.createElement("h5",null,"Your score: ",e.info),n.a.createElement("label",{htmlFor:"name"},"Enter your name:"),n.a.createElement("input",{type:"text",ref:t,name:"fname"}),n.a.createElement("input",{type:"submit",value:"Submit",onClick:a=>{e.change(a,t.current)}}),n.a.createElement("label",{htmlFor:"name"},"to display in the best scores"))},f=()=>n.a.createElement("div",{className:"pause-window"},n.a.createElement("h3",null,"Paused"));var v=()=>{const e=Object(l.useRef)(),t=window.innerHeight<window.innerWidth?[window.innerHeight/2,window.innerHeight/2]:[window.innerWidth/2,window.innerWidth/2],[a,r]=Object(l.useState)(u),[d,v]=Object(l.useState)(i),[g,S]=Object(l.useState)([0,0]),[O,w]=Object(l.useState)(100),[y,j]=Object(l.useState)(!1),[k,N]=Object(l.useState)(!1),[C,x]=Object(l.useState)(0),[M,P]=Object(l.useState)([0,0]),[R,H]=Object(l.useState)(!1),[z,V]=Object(l.useState)(!1),[_,T]=Object(l.useState)(!1),[W,Y]=Object(l.useState)(!1),[I,F]=Object(l.useState)(!1),[J,B]=Object(l.useState)(!1),[D,K]=Object(l.useState)(!1),[$,q]=Object(l.useState)(m),[A,G]=Object(l.useState)(["pink","green","lightblue","aqua"]),[L,Q]=Object(l.useState)("light"),[U,X]=Object(l.useState)("slow"),[Z,ee]=Object(l.useState)("small"),[te,ae]=Object(l.useState)(1),[le,ne]=Object(l.useState)(1);let re;const ce=Object(l.useRef)(void 0),se=Object(l.useRef)(void 0);!function(e,t){const a=Object(l.useRef)();Object(l.useEffect)((()=>{a.current=e}),[e]),Object(l.useEffect)((()=>{if(null!==t){const e=setInterval((function(){a.current()}),t);return()=>clearInterval(e)}}),[t])}((()=>me()),O);const oe=()=>{w(0),S([0,0]),Y(!1),j(!0),F(!1)},ue=()=>d.map(((e,a)=>Math.floor(Math.random()*(t[a]/$)))),ie=(e,l=a)=>{if(e[0]*$>=t[0]||e[0]<0||e[1]*$>=t[1]||e[1]<0)return!0;for(const t of l)if(e[0]===t[0]&&e[1]===t[1])return!0;return!1},me=()=>{const e=JSON.parse(JSON.stringify(a));!0===k&&!0===J&&B(!1),!0!==k&&!0===I&&(re=[e[0][0]+g[0],e[0][1]+g[1]],e.unshift(re),ie(re)&&oe(),(e=>{if(e[0][0]===d[0]&&e[0][1]===d[1]){let t=ue();for(;ie(t,e);)t=ue();return v(t),x(C+1),D&&se.current.play(),!0}return!1})(e)||e.pop(),r(e),W&&(pe(),ie(re)&&oe()))},de=()=>{x(0),r(u),v(i),S([0,-1]),w("slow"===U?100:50),j(!1),F(!0)},he=()=>{H(!1),T(!1),V(!1)},pe=()=>{a[0][0]-d[0]>0?S(h[37]):a[0][1]-d[1]>0?S(h[38]):a[0][0]-d[0]<0?S(h[39]):a[0][1]-d[1]<0&&S(h[40])},be=e=>{switch(e.target.className){case"about-game":R?he():(he(),H(!0));break;case"best-scores":z?he():(he(),V(!0));break;case"settings":_?he():(he(),T(!0));break;default:he()}};return Object(l.useEffect)((()=>{const t=e.current.getContext("2d");t.setTransform($,0,0,$,0,0),t.clearRect(0,0,window.innerWidth,window.innerHeight),t.fillStyle=A[0],a.forEach((([e,a])=>t.fillRect(e,a,1,1))),t.fillStyle=A[1],a.forEach((([e,a])=>t.fillRect(e+.1,a+.1,.8,.8))),t.fillStyle=A[2],t.fillRect(d[0],d[1],1,1)}),[a,d,y]),n.a.createElement("div",{role:"button",tabIndex:0,onKeyDown:e=>(({keyCode:e})=>{38===e&&g===h[40]||40===e&&g===h[38]?38===e?(S(h[40]),P(h[40])):40===e&&(S(h[38]),P(h[38])):37===e&&g===h[39]||39===e&&g===h[37]?37===e?(S(h[39]),P(h[38])):39===e&&(S(h[37]),P(h[37])):27===e&&!1===k?N(!0):27===e&&!0===k?(S(M),N(!1)):(S(h[e]),P(h[e]))})(e),className:"app-wrapper",style:{background:"linear-gradient(to right, #74ebd5, #acb6e5)",backgroundSize:"cover"}},n.a.createElement("header",null,n.a.createElement("h1",{onClick:he},"CYBERSNAKE"),n.a.createElement("div",{className:"app-header-buttons"},n.a.createElement("button",{className:z?"best-scores active":"best-scores",onClick:be},"lead"),n.a.createElement("button",{className:_?"settings active":"settings",onClick:be},"set"),n.a.createElement("button",{className:R?"about-game active":"about-game",onClick:be},"info"))),n.a.createElement("main",null,n.a.createElement("audio",{ref:ce,src:"./assets/audio/Yeah Yeah Yeahs - Heads Will Roll.mp3",loop:!0}),n.a.createElement("audio",{ref:se,src:"./assets/audio/eat.mp3"}),n.a.createElement(s,{scoreTitle:C}),R&&n.a.createElement(o,null),k&&n.a.createElement(f,null),_&&n.a.createElement(p,{musicPlay:()=>{B(!0),ce.current.play()},musicPause:()=>{B(!1),ce.current.pause()},stateMus:J,stateSnd:D,soundHandler:()=>{K(!D)},handleScale:q,themeDarkHandler:()=>{Q("dark"),G(["red","gray","gold","blueviolet"])},themeLightHandler:()=>{Q("light"),G(["pink","green","lightblue","aqua"])},themeState:L,handleSpeedState:X,handleSpeed:w,handleSizeMode:ee,speedState:U,sizeState:Z,audio:ce.current,sound:se.current,handleMusicVolume:ae,musicVolState:te,handleSoundVolume:ne,soundVolState:le}),z&&n.a.createElement(b,{data:Object.entries(localStorage)}),n.a.createElement("canvas",{style:{border:"1px solid black",backgroundColor:A[3]},ref:e,width:`${t[0]}px`,height:`${t[1]}px`}),y&&n.a.createElement(E,{info:C,change:e=>{j(!1),localStorage.setItem(e.value,`${C}`)}}),n.a.createElement("div",{className:"start-game-block"},n.a.createElement("button",{onClick:de,className:I?"start-game active":"start-game"},"Start Game"),n.a.createElement("button",{onClick:()=>{W?(Y(!1),oe()):(Y(!0),de())},className:W?"autoplay-game active":"autoplay-game"},"Autoplay"))),n.a.createElement(c,null))};r.render(l.createElement(v,null),document.getElementById("root"))}});